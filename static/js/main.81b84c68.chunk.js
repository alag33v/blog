(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{83:function(n,t,e){"use strict";e.r(t);var r,a,c,o=e(1),s=e.n(o),i=e(19),p=e.n(i),u=e(16),d=e(25),b=e(5),l=e(6),x=e(23),f=e(84),m=e(49),h=e(27),j=e(4),g=e.n(j),O=e(8),v=e(24),y=e(9),_=e(45),w=e.n(_).a.create({baseURL:"https://bloggy-api.herokuapp.com"}),k=function(){return Object(O.a)(g.a.mark((function n(){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.get("/posts");case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})))()},N=function(n){return Object(O.a)(g.a.mark((function t(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.post("/posts",n);case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()},z=function(n){return Object(O.a)(g.a.mark((function t(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.delete("/posts/".concat(n));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()},C=function(n){return Object(O.a)(g.a.mark((function t(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.put("/posts/".concat(n.id),n);case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()},E=function(n){return Object(O.a)(g.a.mark((function t(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.get("/posts/".concat(n,"?_embed=comments"));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()},S=function(n,t){return Object(O.a)(g.a.mark((function e(){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.post("/posts/".concat(n,"/comments"),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))()},T="posts/ADD_POSTS",M="posts/NEW_POST",P="posts/DELETE_POST",D="posts/EDIT_POST",I="posts/ADD_COMMENT",A="posts/CREATE_COMMENT",R={posts:[],post:{id:"",title:"",body:"",comments:[]}},J=function(n){return{type:P,payload:n}},L=function(n){return{type:D,payload:n}},W=function(n){return{type:A,payload:n}},B=e(21),G=e(18),U=G.default.div(r||(r=Object(B.a)(["\n  h1 {\n    font-size: 50px;\n    text-align: center;\n\n    @media (max-width: 365px) {\n      font-size: 40px;\n    }\n  }\n\n  .title__input {\n    width: 500px;\n    max-width: 100%;\n    height: 40px;\n    color: #fff;\n    background-color: transparent;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    margin: 0 auto 25px;\n    padding: 0 15px;\n    display: block;\n  }\n\n  .body__textarea {\n    width: 600px;\n    max-width: 100%;\n    height: 200px;\n    color: #fff;\n    background-color: transparent;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    margin: 0 auto 25px;\n    padding: 15px;\n    display: block;\n    resize: none;\n  }\n\n  .create__btn {\n    font-size: 24px;\n    color: rgb(255, 255, 255);\n    background-color: rgb(135, 206, 250);\n    margin: 0 auto 25px;\n    padding: 7px 20px;\n    border-radius: 5px;\n    width: 300px;\n    max-width: 100%;\n    height: 40px;\n    display: block;\n    border: none;\n    transition: 0.3s;\n    cursor: pointer;\n\n    &:hover {\n      background-color: rgb(108 186 235);\n    }\n\n    &:active {\n      background-color: rgb(71 181 250);\n    }\n  }\n\n  .posts__list {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n\n    .post__item {\n      width: 600px;\n      max-width: 100%;\n      margin: 0 auto 25px;\n      padding: 15px 0;\n      border: 1px dashed #ccc;\n      border-radius: 5px;\n      position: relative;\n\n      &-title {\n        font-size: 24px;\n        text-align: center;\n        border-bottom: 1px dashed #ccc;\n        margin: 0 0 15px;\n        padding: 5px 60px 15px;\n      }\n\n      &-body {\n        font-size: 18px;\n        line-height: 1.3;\n        text-align: justify;\n        border-bottom: 1px dashed #ccc;\n        margin: 5px 0 16px;\n        padding: 5px 25px 15px;\n      }\n\n      .edit {\n        font-size: 20px;\n        fill: #ccc;\n        top: 7px;\n        right: 34px;\n        position: absolute;\n        transition: 0.3s;\n        cursor: pointer;\n\n        &:hover {\n          fill: #fff;\n        }\n      }\n\n      .remove {\n        font-size: 24px;\n        fill: #ccc;\n        top: 5px;\n        right: 5px;\n        position: absolute;\n        transition: 0.3s;\n        cursor: pointer;\n\n        &:hover {\n          fill: #fff;\n        }\n      }\n\n      .more__btn {\n        color: rgb(255, 255, 255);\n        background-color: rgb(135, 206, 250);\n        margin: 0 auto;\n        border-radius: 5px;\n        width: 200px;\n        max-width: 100%;\n        height: 34px;\n        display: block;\n        border: none;\n        transition: 0.3s;\n        cursor: pointer;\n\n        &:hover {\n          background-color: rgb(108 186 235);\n        }\n\n        &:active {\n          background-color: rgb(71 181 250);\n        }\n      }\n    }\n  }\n"]))),q=e(2),F=function(){var n=Object(o.useState)(""),t=Object(x.a)(n,2),e=t[0],r=t[1],a=Object(o.useState)(""),c=Object(x.a)(a,2),s=c[0],i=c[1],p=Object(u.c)((function(n){return n.posts})).posts,d=Object(u.b)(),j=Object(b.f)();Object(o.useEffect)((function(){d(function(){var n=Object(O.a)(g.a.mark((function n(t){var e;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k();case 3:e=n.sent,t({type:T,payload:e}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),l.b.error(n.t0.message);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}())}),[]);var v=function(n){var t;e.trim()&&s.trim()?(d((t={id:n,title:e,body:s},function(){var n=Object(O.a)(g.a.mark((function n(e){var r;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,C(t);case 3:r=n.sent,e(L(r)),l.b.success("Post edited"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),l.b.error(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}())),r(""),i("")):l.b.error("Enter your message")},y=function(n){d(function(n){return function(){var t=Object(O.a)(g.a.mark((function t(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{z(n),e(J(n)),l.b.success("Post deleted")}catch(r){l.b.error(r.message)}case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()}(n))};return Object(q.jsxs)(U,{children:[Object(q.jsx)("h1",{children:"Messages"}),Object(q.jsx)("input",{className:"title__input",type:"text",onChange:function(n){return r(n.target.value)},value:e}),Object(q.jsx)("textarea",{className:"body__textarea",onChange:function(n){return i(n.target.value)},value:s}),Object(q.jsx)("button",{className:"create__btn",type:"button",onClick:function(){if(e.trim()&&s.trim()){var n={id:Object(f.a)(),title:e,body:s};d(function(n){return function(){var t=Object(O.a)(g.a.mark((function t(e){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N(n);case 3:r=t.sent,e({type:M,payload:r}),l.b.success("Post created"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),l.b.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(n){return t.apply(this,arguments)}}()}(n)),r(""),i("")}else l.b.error("Enter your message")},children:"Create Post"}),Object(q.jsx)("ul",{className:"posts__list",children:p.map((function(n){return Object(q.jsxs)("li",{className:"post__item",children:[Object(q.jsx)("h3",{className:"post__item-title",children:n.title}),Object(q.jsx)("p",{className:"post__item-body",children:n.body}),Object(q.jsx)(h.b,{className:"edit",onClick:function(){return v(n.id)}}),Object(q.jsx)(m.a,{className:"remove",onClick:function(){return y(n.id)}}),Object(q.jsx)("button",{className:"more__btn",type:"button",onClick:function(){return t=n.id,void j.push("/blog/".concat(t));var t},children:"More"})]},n.id)}))})," "]})},H=G.default.div(a||(a=Object(B.a)(["\n  position: relative;\n\n  h1 {\n    font-size: 50px;\n    text-align: center;\n\n    @media (max-width: 365px) {\n      font-size: 40px;\n    }\n  }\n\n  .post {\n    width: 600px;\n    max-width: 100%;\n    margin: 0 auto 25px;\n    padding: 15px 0 10px;\n    border: 1px dashed #ccc;\n    border-radius: 5px;\n    position: relative;\n\n    &__title {\n      font-size: 24px;\n      text-align: center;\n      padding: 0 25px 15px;\n      margin: 0 0 15px;\n      border-bottom: 1px dashed #ccc;\n    }\n\n    &__body {\n      font-size: 18px;\n      line-height: 1.3;\n      text-align: justify;\n      margin: 5px 0;\n      padding: 0 25px;\n    }\n  }\n\n  h2 {\n    font-size: 40px;\n    text-align: center;\n  }\n\n  .comment__textarea {\n    width: 600px;\n    max-width: 100%;\n    height: 200px;\n    color: #fff;\n    background-color: transparent;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    margin: 0 auto 25px;\n    padding: 15px;\n    display: block;\n    resize: none;\n  }\n\n  .comment__btn {\n    font-size: 24px;\n    color: rgb(255, 255, 255);\n    background-color: rgb(135, 206, 250);\n    margin: 0 auto 25px;\n    padding: 7px 20px;\n    border-radius: 5px;\n    width: 300px;\n    max-width: 100%;\n    height: 40px;\n    display: block;\n    border: none;\n    transition: 0.3s;\n    cursor: pointer;\n\n    &:hover {\n      background-color: rgb(108 186 235);\n    }\n\n    &:active {\n      background-color: rgb(71 181 250);\n    }\n  }\n\n  .comments__list {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n\n    .comment__item {\n      line-height: 1.3;\n      width: 600px;\n      max-width: 100%;\n      margin: 0 auto 25px;\n      padding: 15px 25px;\n      border: 1px dashed #ccc;\n      border-radius: 5px;\n      position: relative;\n    }\n  }\n\n  .back {\n    font-size: 30px;\n    fill: #ccc;\n    top: 0;\n    left: 0;\n    position: absolute;\n    transition: 0.3s;\n    cursor: pointer;\n\n    &:hover {\n      fill: #fff;\n    }\n  }\n"]))),K=function(n){var t=n.match,e=Object(o.useState)(""),r=Object(x.a)(e,2),a=r[0],c=r[1],s=Object(u.c)((function(n){return n.posts})),i=s.posts,p=s.post,d=Object(u.b)(),m=Object(b.f)(),j=i.filter((function(n){return n.id.toString()===t.params.id}))[0];Object(o.useEffect)((function(){var n;d((n=j.id,function(){var t=Object(O.a)(g.a.mark((function t(e){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(n);case 3:r=t.sent,e({type:I,payload:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),l.b.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(n){return t.apply(this,arguments)}}()))}),[j]);return Object(q.jsxs)(H,{children:[Object(q.jsx)("h1",{children:"Message"}),Object(q.jsxs)("div",{className:"post",children:[Object(q.jsx)("h3",{className:"post__title",children:p.title}),Object(q.jsx)("p",{className:"post__body",children:p.body})]}),Object(q.jsx)("h2",{children:"Comments"}),Object(q.jsx)("ul",{className:"comments__list",children:p&&p.comments.map((function(n){return Object(q.jsx)("li",{className:"comment__item",children:n.body},"".concat(n.postId,"_").concat(n.id))}))}),Object(q.jsx)("textarea",{className:"comment__textarea",onChange:function(n){return c(n.target.value)},value:a}),Object(q.jsx)("button",{className:"comment__btn",type:"button",onClick:function(){if(a.trim()){var n={postId:Object(f.a)(),body:a};d((t=j.id,e=n,function(){var n=Object(O.a)(g.a.mark((function n(r){var a;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S(t,e);case 3:a=n.sent,l.b.success("Comment created"),r(W(a)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),l.b.error(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}())),c("")}else l.b.error("Enter your message");var t,e},children:"Add Comment"}),Object(q.jsx)(h.a,{className:"back",onClick:function(){m.push("/blog")}})]})},Q=e(50),V=Object(G.createGlobalStyle)(c||(c=Object(B.a)(["\n  ","\n\n  html {\n    box-sizing: border-box;\n  }\n  \n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n  \n  body {\n    font-family: 'Open Sans', sans-serif;\n    max-width: 1200px;\n    padding: 0 25px;\n    margin: 0 auto;\n    color: #fff;\n    background-color: #080808;\n    min-height: 100vh;\n  }\n"])),Q.normalize),X=(e(82),function(){return Object(q.jsxs)(d.a,{children:[Object(q.jsxs)(b.c,{children:[Object(q.jsx)(b.a,{exact:!0,path:"/blog",component:F}),Object(q.jsx)(b.a,{exact:!0,path:"/blog/:id",component:K})]}),Object(q.jsx)(V,{}),Object(q.jsx)(l.a,{})]})}),Y=e(14),Z=e(51),$=e(52),nn=Object(Y.combineReducers)({posts:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(y.a)(Object(y.a)({},n),{},{posts:t.payload});case M:return Object(y.a)(Object(y.a)({},n),{},{posts:[].concat(Object(v.a)(n.posts),[t.payload])});case P:return Object(y.a)(Object(y.a)({},n),{},{posts:Object(v.a)(n.posts.filter((function(n){return n.id!==t.payload})))});case D:var e=Object(v.a)(n.posts),r=e.findIndex((function(n){return n.id===t.payload.id}));return e[r]=Object(y.a)({},t.payload),{posts:e,post:n.post};case I:return Object(y.a)(Object(y.a)({},n),{},{post:t.payload});case A:return Object(y.a)(Object(y.a)({},n),{},{post:Object(y.a)(Object(y.a)({},n.post),{},{comments:[].concat(Object(v.a)(n.post.comments),[t.payload])})});default:return n}}}),tn=Object(Y.createStore)(nn,Object(Z.composeWithDevTools)(Object(Y.applyMiddleware)($.a)));p.a.render(Object(q.jsx)(s.a.StrictMode,{children:Object(q.jsx)(u.a,{store:tn,children:Object(q.jsx)(X,{})})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.81b84c68.chunk.js.map